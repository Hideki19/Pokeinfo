<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/script-pokedex.js"></script>
    <script src="../js/script-type-chart.js"></script>
    <title>Pokeinfo | Pokedex</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/style-pokedex.css">
</head>
<header>
    <div class="container">
        <div id="logo">
            <a href="../index.html">
                <img src="../assets/logo.png" alt="Logo" style="height: 100%;">
            </a>
        </div>
        <ul id="ul_header">
            <a href="/html/pokedex.html">
                <li style="color: #D90429; font-weight: 600;">Pokédex</li>
            </a>
            <a href="google.com">
                <li>Gerações</li>
            </a>
            <a href="google.com">
                <li>Type Chart</li>
            </a>
            <div id="header_buttons">
                <a href="login.html">
                    <li class="li_button" id="btn_login">Login</li>
                </a>
                <a href="cadastro.html">
                    <li class="li_button" id="btn_cadastrar">Cadastrar</li>
                </a>
            </div>
        </ul>
    </div>
</header>
<body>
    <div class="main">
        <span class="titulo"><span class="red_text">Poké</span>dex</span>
        <div id="pokedex_input">
            <input id="iptPokemon" list="listPokemon">
            <datalist id="listPokemon">
                <!--------------1ª Gen----------------------------->
                <!--1--><option>Bulbasaur</option>
                <!--2--><option>Ivysaur</option>
                <!--3--><option>Venusaur</option>
                <!--4--><option>Charmander</option>
                <!--5--><option>Charmeleon</option>
                <!--6--><option>Charizard</option>
                <!--7--><option>Squirtle</option>
                <!--8--><option>Wartortle</option>
                <!--9--><option>Blastoise</option>
                <!--10--><option>Caterpie</option>
                <!--11--><option>Metapod</option>
                <!--12--><option>Butterfree</option>
                <!--13--><option>Weedle</option>
                <!--14--><option>Kakuna</option>
                <!--15--><option>Beedrill</option>
                <!--16--><option>Pidgey</option>
                <!--17--><option>Pidgeotto</option>
                <!--18--><option>Pidgeot</option>
                <!--19--><option>Rattata</option>
                <!--19.1--><option>Rattata-alola</option>
                <!--20--><option>Raticate</option>
                <!--20.1--><option>Raticate-alola</option>
                <!--21--><option>Spearow</option>
                <!--22--><option>Fearow</option>
                <!--23--><option>Ekans</option>
                <!--24--><option>Arbok</option>
                <!--25--><option>Pikachu</option>
                <!--26--><option>Raichu</option>
                <!--26.1--><option>Raichu-alola</option>
                <!--27--><option>Sandshrew</option>
                <!--27.1--><option>Sandshrew-alola</option>
                <!--28--><option>Sandslash</option>
                <!--28.1--><option>Sandslash-alola</option>
                <!--29--><option>Nidoran-F</option>
                <!--30--><option>Nidorina</option>
                <!--31--><option>Nidoqueen</option>
                <!--32--><option>Nidoran-M</option>
                <!--33--><option>Nidorino</option>
                <!--34--><option>Nidoking</option>
                <!--35--><option>Clefairy</option>
                <!--36--><option>Clefable</option>
                <!--37--><option>Vulpix</option>
                <!--37.1--><option>Vulpix-alola</option>
                <!--38--><option>Ninetales</option>
                <!--38.1--><option>Ninetales-alola</option>
                <!--39--><option>Jigglypuff</option>
                <!--40--><option>Wigglytuff</option>
                <!--41--><option>Zubat</option>
                <!--42--><option>Golbat</option>
                <!--43--><option>Oddish</option>
                <!--44--><option>Gloom</option>
                <!--45--><option>Vileplume</option>
                <!--46--><option>Paras</option>
                <!--47--><option>Parasect</option>
                <!--48--><option>Venonat</option>
                <!--49--><option>Venomoth</option>
                <!--50--><option>Diglett</option>
                <!--50.1--><option>Diglett-alola</option>
                <!--51--><option>Dugtrio</option>
                <!--51.1--><option>Dugtrio-alola</option>
                <!--52--><option>Meowth</option>
                <!--52.1--><option>Meowth-alola</option>
                <!--52.2--><option>Meowath-galar</option>
                <!--53--><option>Persian</option>
                <!--53.1--><option>Persian-alola</option>
                <!--54--><option>Psyduck</option>
                <!--55--><option>Golduck</option>
                <!--56--><option>Mankey</option>
                <!--57--><option>Primeape</option>
                <!--58--><option>Growlithe</option>
                <!--58.1--><option>Growlithe-hisui</option>
                <!--59--><option>Arcanine</option>
                <!--59.1--><option>Arcanine-hisui</option>
                <!--60--><option>Poliwag</option>
                <!--61--><option>Poliwhirl</option>
                <!--62--><option>Poliwrath</option>
                <!--63--><option>Abra</option>
                <!--64--><option>Kadabra</option>
                <!--65--><option>Alakazam</option>
                <!--66--><option>Machop</option>
                <!--67--><option>Machoke</option>
                <!--68--><option>Machamp</option>
                <!--69--><option>Bellsprout</option>
                <!--70--><option>Weepinbell</option>
                <!--71--><option>Victribel</option>
                <!--72--><option>Tentacool</option>
                <!--73--><option>Tentacruel</option>
                <!--74--><option>Geodude</option>
                <!--74.1--><option>Geodude-alola</option>
                <!--75--><option>Graveler</option>
                <!--75.1--><option>Graveler-alola</option>
                <!--76--><option>Golem</option>
                <!--76.1--><option>Golem-alola</option>
                <!--77--><option>Ponyta</option>
                <!--77.1--><option>Ponyta-galar</option>
                <!--78--><option>Rapidash</option>
                <!--78.1--><option>Rapidash-galar</option>
                <!--79--><option>Slowpoke</option>
                <!--79.1--><option>Slowpoke-galar</option>
                <!--80--><option>Slowbro</option>
                <!--80.1--><option>Slowbro-galar</option>
                <!--81--><option>Magnemite</option>
                <!--82--><option>Magneton</option>
                <!--83--><option>Farfetchd</option>
                <!--83.1--><option>Farfetchd-galar</option>
                <!--84--><option>Doduo</option>
                <!--85--><option>Dodrio</option>
                <!--86--><option>Seel</option>
                <!--87--><option>Dewgong</option>
                <!--88--><option>Grimer</option>
                <!--88.1--><option>Grimer-alola</option>
                <!--89--><option>Muk</option>
                <!--89.1--><option>Muk-alola</option>
                <!--90--><option>Shellder</option>
                <!--91--><option>Cloyster</option>
                <!--92--><option>Gastly</option>
                <!--93--><option>Haunter</option>
                <!--94--><option>Gengar</option>
                <!--95--><option>Onix</option>
                <!--96--><option>Drowzee</option>
                <!--97--><option>Hypno</option>
                <!--98--><option>Krabby</option>
                <!--99--><option>Kingler</option>
                <!--100--><option>Voltorb</option>
                <!--100.1--><option>Voltorb-hisui</option>
                <!--101--><option>Electrode</option>
                <!--101.1--><option>Electrode-hisui</option>
                <!--102--><option>Exeggcute</option>
                <!--103--><option>Exeggutor</option>
                <!--103.1--><option>Exeggutor-alola</option>
                <!--104--><option>Cubone</option>
                <!--105--><option>Marowak</option>
                <!--105.1--><option>Marowak-alola</option>
                <!--106--><option>Hitmonlee</option>
                <!--107--><option>Hitmonchan</option>
                <!--108--><option>Lickitung</option>
                <!--109--><option>Koffing</option>
                <!--110--><option>Weezing</option>
                <!--110.1--><option>Weezing-galar</option>
                <!--111--><option>Rhyhorn</option>
                <!--112--><option>Rhydon</option>
                <!--113--><option>Chansey</option>
                <!--114--><option>Tangela</option>
                <!--115--><option>Kangaskhan</option>
                <!--116--><option>Horsea</option>
                <!--117--><option>Seadra</option>
                <!--118--><option>Goldeen</option>
                <!--119--><option>Seaking</option>
                <!--120--><option>Staryu</option>
                <!--121--><option>Starmie</option>
                <!--122--><option>Mr-mime</option>
                <!--122.1--><option>Mr-mime-galar</option>
                <!--123--><option>Scyther</option>
                <!--124--><option>Jynx</option>
                <!--125--><option>Electabuzz</option>
                <!--126--><option>Magmar</option>
                <!--127--><option>Pinsir</option>
                <!--128--><option>Tauros</option>
                <!--128.1--><option>Tauros-paldea-combat-breed</option>
                <!--128.2--><option>Tauros-paldea-blaze-breed</option>
                <!--128.3--><option>Tauros-paldea-aqua-breed</option>
                <!--129--><option>Magikarp</option>
                <!--130--><option>Gyarados</option>
                <!--131--><option>Lapras</option>
                <!--132--><option>Ditto</option>
                <!--133--><option>Eevee</option>
                <!--134--><option>Vaporeon</option>
                <!--135--><option>Jolteon</option>
                <!--136--><option>Flareon</option>
                <!--137--><option>Porygon</option>
                <!--138--><option>Omanyte</option>
                <!--139--><option>Omastar</option>
                <!--140--><option>Kabuto</option>
                <!--141--><option>Kabutops</option>
                <!--142--><option>Aerodactyl</option>
                <!--143--><option>Snorlax</option>
                <!--144--><option>Articuno</option>
                <!--144.1--><option>Articuno-galar</option>
                <!--145--><option>Zapdos</option>
                <!--145.1--><option>Zapdos-galar</option>
                <!--146--><option>Moltres</option>
                <!--146.1--><option>Moltres-galar</option>
                <!--147--><option>Dratini</option>
                <!--148--><option>Dragonair</option>
                <!--149--><option>Dragonite</option>
                <!--150--><option>Mewtwo</option>
                <!--151--><option>Mew</option>
        
                <!--------------2ª Gen----------------------------->
                
                
            </datalist> 
            <button onclick="fetchPokemon((iptPokemon.value).toLowerCase())">Search</button>
        </div>
        <div class="box">
            <div id="pokemonName"></div>
            <div class="content">
                <img id="pokemonImg" src="" alt="">
                <div id="pokemonInfo"></div>
                <div id="pokemonStats"></div>
                <div style="width: 100%; display: flex; flex-direction: row; justify-content: center;">

                    <div id="pokemonEvolutionLine"></div>
                    <div id="pokemonTypeChart" style="display: none;">
                        <span class="subtitulo">Tabela de tipos defensiva</span>
                        <span class="subtitulo2">Representação da eficácia de cada tipo no pokémon.</span>
                        <table>
                            <tr>
                                <th class="normal">NOR</th>
                                <th class="fire">FIR</th>
                                <th class="water">WAT</th>
                                <th class="electric">ELE</th>
                                <th class="grass">GRA</th>
                                <th class="ice">ICE</th>
                                <th class="fighting">FIG</th>
                                <th class="poison">POI</th>
                                <th class="ground">GRO</th>
                            </tr>
                            <tr id="weakness1">
                                <td></td>
                            </tr>
                            <tr>
                                <th class="flying">FLY</th>
                                <th class="psychic">PSY</th>
                                <th class="bug">BUG</th>
                                <th class="rock">ROC</th>
                                <th class="ghost">GHO</th>
                                <th class="dragon">DRA</th>
                                <th class="dark">DAR</th>
                                <th class="steel">STE</th>
                                <th class="fairy">FAI</th>
                            </tr>
                            <tr id="weakness2">
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>

<script>
    var typeChartDefensive = {
    "normal": [1,1,1,1,1,1,2,1,1,1,1,1,1,0,1,1,1,1],
    "fire": [1,1 / 2,2,1,1 / 2,1,1,1,2,1,1,1 / 2,2,1,1,1,1 / 2,1 / 2],
    "water": [1,1 / 2,1 / 2,2, 2, 1 / 2,1,1,1,1,1,1,1,1,1,1,1 / 2,1],
    "electric": [1,1,1,1 / 2, 1, 1,1,1,2,1 / 2,1,1,1,1,1,1,1 / 2,1],
    "grass": [1,2,1 / 2,1 / 2, 1 / 2, 2,1,2,1 / 2,2,1,2,1,1,1,1,1,1],
    "ice": [1,2,1,1, 1, 1 / 2,2,1,1,1,1,1,2,1,1,1,2,1],
    "fighting": [1,1,1,1, 1, 1,1,1,1,2,2,1 / 2,1 / 2,1,1,1 / 2,1,2],
    "poison": [1,1,1,1, 1 / 2, 1,1 / 2,1 / 2,2,1,2,1 / 2,1,1,1,1,1,1 / 2],
    "ground": [1,1,2,0, 2, 2,1,1 / 2,1,1,1,1,1 / 2,1,1,1,1,1],
    "flying": [1,1,1,2, 1 / 2, 2,1 / 2,1,0,1,1,1 / 2,2,1,1,1,1,1],
    "psychic": [1,1,1,1, 1, 1,1 / 2,1,1,1,1 / 2,2,1,2,1,2,1,1],
    "bug": [1,2,1,1, 1 / 2,2, 1,1 / 2,1,1 / 2,2,1,1,2,1,1,1,1,1],
    "rock": [1 / 2,1 / 2,2,1, 2, 1,2,1 / 2,2,1 / 2,1,1,1,1,1,1,2,1],
    "ghost": [0,1,1,1, 1, 1,0,1 / 2,1,1,1,1 / 2,1,2,1,2,1,1],
    "dragon": [1,1 / 2,1 / 2,1 / 2, 1 / 2, 2,1,1,1,1,1,1,1,1,2,1,1,2],
    "dark": [1,1,1,1, 1, 1,2,1,1,1,0,2,1,1 / 2,1,1 / 2,1,2],
    "steel": [1 / 2,2,1,1, 1 / 2, 1 / 2,2,0,2,1 / 2,1 / 2,1 / 2,1 / 2,1,1 / 2,1,1 / 2,1 / 2],
    "fairy": [1,1,1,1, 1, 1,1 / 2,2,1,1,1,1 / 2,1,1,0,1 / 2,2,1],

}



function pokedexTypeChart(type1, type2) {
    pokemonTypeChart.style.display = 'flex';
    weakness1.innerHTML = '';
    weakness2.innerHTML = '';

    if (type1.length > 0 && type2.length > 0) { // Dual type
        var type1Weakness = typeChartDefensive[type1];
        var type2Weakness = typeChartDefensive[type2];
        var typesWeakness = [];

        for (index = 0; index < type1Weakness.length; index++) {
            typesWeakness.push(type1Weakness[index] * type2Weakness[index]); 
        }
        console.log(typesWeakness);
    
    } else { // Single type
        var typesWeakness = typeChartDefensive[type1];
        console.log(typesWeakness)
    }
    for (var i = 0; i < typesWeakness.length/2; i++) {
            var row = document.getElementById("weakness1");
            var x = row.insertCell(i);
            x.innerHTML = typesWeakness[i];
            
            if (typesWeakness[i] == 0) { // immune
                x.classList.add("immune");
            } else if (typesWeakness[i] == 1/4) { // not very effective (1/4)
                x.innerHTML = '¼';
                x.classList.add("not-very-effective-1");
            } else if (typesWeakness[i] == 1/2) { // not very effective
                x.innerHTML = '½';
                x.classList.add("not-very-effective");
            } else if (typesWeakness[i] == 2) { // super effective
                x.classList.add("super-effective");
            } else if (typesWeakness[i] == 4) { // super effective (x4)
                x.classList.add("super-effective-1");
            } else { // normal
                x.classList.add("normal-dmg");
            }
            
        }
        for (var i = 0; i < typesWeakness.length/2; i++) {
            var row = document.getElementById("weakness2");
            var x = row.insertCell(i);
            x.innerHTML = typesWeakness[i+9];
            
            if (typesWeakness[i+9] == 0) { // immune
                x.classList.add("immune");
            } else if (typesWeakness[i+9] == 1/4) { // not very effective (1/4)
                x.innerHTML = '¼';
                x.classList.add("not-very-effective-1");
            } else if (typesWeakness[i+9] == 1/2) { // not very effective (1/2)
                x.innerHTML = '½';
                x.classList.add("not-very-effective");
            } else if (typesWeakness[i+9] == 2) { // super effective
                x.classList.add("super-effective");
            } else { // normal
                x.classList.add("normal-dmg");
            }
            
        }       
}
</script>

